## 웹 서버와 서블릿 컨테이너

### 외장 서버와 내장 서버

- 과거에 자바로 웹 애플리케이션 개발 시에는 서버에 톰캣 같은 WAS를 먼저 설치했다. 그리고 WAS에서 동작하도록 서블릿 스펙에 맞추어 코드를 작성하고 WAR 파일을 만들어서 WAS에 배포했다.
- 최근 방식에서는 스프링 부트가 내장 톰캣을 포함하고 있다. 애플리케이션 코드 안에 톰캣 같은 WAS가 라이브러리로 내장되어 있다.
- **개발자는 코드를 작성하고 JAR로 빌드한 다음에 해당 JAR를 원하는 위치에서 실행하기만 하면 된다.**

### 스프링 부트 프로젝트는 대형 서비스에 부적합할까?

- 그렇지 않다.
- 내장 톰캣은 외장 톰캣과 다르게 Virtual Host 기능을 제공하지 않는다. Virtual Host는 하나의 서버에서 여러 서비스를 제공할 수 있게 해준다.
- Virtual Host의 기능은 Web Server의 역할이기 때문에 WAS에서 해당 기능을 제공하는 것은 WAS의 역할과는 거리가 멀다.
- 과거에는 하나의 고사양 서버에 여러 애플리케이션을 운영하는 것이 효율적이었으나 현재는 하나의 애플리케이션에 하나의 서비스만 구성하고 운영하는것이 효율적이다.
- 하나의 VM이나 Docker로 하나의 서비스만 구성하고 여러 개로 나누어서 서비스하는 것이 대세이다.

### WAR 배포 방식의 단점

- 톰캣 같은 웹 애플리케이션 서버를 별도로 설치해야 한다. 애플리케이션 코드를 WAR로 빌드해야 한다. 빌드한 WAR 파일을 WAS에 배포해야 한다.
- 이렇게 하나의 애플리케이션을 구동하려면 웹 애플리케이션 서버를 별도로 설치해야 하는 구조이다.

